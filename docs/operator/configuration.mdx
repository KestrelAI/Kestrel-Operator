---
title: Configuration Reference
description: Complete reference for all Kestrel Operator configuration options
---

## Helm Values Reference

The Kestrel Operator is configured through Helm values. Below is a complete reference of all available configuration options.

## Quick Configuration Examples

### Basic Cilium Setup
```yaml
auth:
  token: "your-token-here"

operator:
  cluster:
    id: "cluster-uuid"
    name: "production-cluster"
```

### Istio Service Mesh Setup
```yaml
auth:
  token: "your-token-here"

operator:
  cluster:
    id: "cluster-uuid"
    name: "production-cluster"
  cilium:
    disableFlows: true
  istio:
    enabled: true
    alsPort: 8080
```

### Safe-Apply Enabled
```yaml
auth:
  token: "your-token-here"

operator:
  cluster:
    id: "cluster-uuid"
    name: "production-cluster"
  safeApply:
    enabled: true
```

## Complete Values Reference

### Core Settings

#### `replicaCount`
- **Type**: integer
- **Default**: `1`
- **Description**: Number of operator replicas to deploy


### Image Configuration

#### `image.repository`
- **Type**: string
- **Default**: `ghcr.io/kestrelai/kestrel-operator`
- **Description**: Container image repository

#### `image.tag`
- **Type**: string
- **Default**: `1.0.0`
- **Description**: Container image tag

#### `image.pullPolicy`
- **Type**: string
- **Default**: `IfNotPresent`
- **Options**: `Always`, `IfNotPresent`, `Never`
- **Description**: Image pull policy

### Authentication

#### `auth.token` (Required)
- **Type**: string
- **Default**: `""`
- **Description**: JWT token for operator authentication
- **Example**: `"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9..."`

<Note>
  Generate this token through the Kestrel AI Dashboard. The token automatically renews every 24 hours.
</Note>

### Server Connection

#### `server.host`
- **Type**: string
- **Default**: `grpc.platform.usekestrel.ai`
- **Description**: Kestrel AI platform gRPC endpoint

#### `server.port`
- **Type**: integer
- **Default**: `443`
- **Description**: gRPC server port

#### `server.useTLS`
- **Type**: boolean
- **Default**: `true`
- **Description**: Enable TLS for server connection

### Operator Configuration

#### `operator.cluster.id`
- **Type**: string
- **Description**: Unique cluster identifier (UUID)
- **Generated**: Automatically provided when generating token

#### `operator.cluster.name`
- **Type**: string
- **Description**: Human-readable cluster name
- **Example**: `"production-us-west"`

### Cilium Integration

#### `operator.cilium.disableFlows`
- **Type**: boolean
- **Default**: `false`
- **Description**: Disable Cilium flow collection entirely

Set to `true` when:
- Using Istio for flow collection instead
- Cluster doesn't have Cilium installed
- Only want resource inventory management

#### `operator.cilium.hubble.tls.forceDisable`
- **Type**: boolean
- **Default**: `false`
- **Description**: Force disable TLS for Hubble connections

<Info>
  By default, the operator attempts to use TLS when connecting to Hubble Relay. Only disable if your Hubble setup doesn't support TLS.
</Info>

### Istio Integration

#### `operator.istio.enabled`
- **Type**: boolean
- **Default**: `false`
- **Description**: Enable Istio Access Log Service (ALS) for L7 flow collection

#### `operator.istio.alsPort`
- **Type**: integer
- **Default**: `8080`
- **Description**: Port for the ALS gRPC server

<Note>
  When enabling Istio, ensure your Envoy proxies are configured to send access logs to the operator's ALS endpoint.
</Note>

### Safe-Apply Configuration

#### `operator.safeApply.enabled`
- **Type**: boolean
- **Default**: `false`
- **Description**: Grant RBAC permissions for applying approved YAML changes

When enabled, the operator can:
- Create network policies
- Update existing resources
- Delete resources (with approval)

## Updating Configuration

To update operator configuration:

1. Modify your values file

2. Apply the changes:
```bash
helm upgrade kestrel-operator \
  oci://ghcr.io/kestrelai/charts/kestrel-operator \
  --namespace kestrel-ai \
  -f values.yaml
```

3. Verify the rollout:
```bash
kubectl rollout status deployment/kestrel-operator -n kestrel-ai
```

## Next Steps

- [Troubleshoot configuration issues](/operator/troubleshooting)
- [Monitor operator performance](/operator/monitoring)
- [Configure namespace permissions](/permissions/namespaces)